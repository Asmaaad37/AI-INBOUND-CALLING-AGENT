<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Inbound Call Agent Analytics</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Segoe UI", sans-serif;
}

body {
    background: #f4f7fb;
    display: flex;
    height: 100vh;
    overflow: hidden; /* prevent horizontal scroll */
}

/* ================= SIDEBAR ================= */
.sidebar {
    width: 230px;
    background: #0b3c6d;
    height: 100vh;
    padding: 25px 20px;
    color: white;
    position: fixed; /* fixed sidebar */
    top: 0;
    left: 0;
    overflow-y: auto; /* scroll if content overflows */
}

.sidebar h2 {
    margin-bottom: 40px;
    font-size: 24px;
}

.sidebar ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar ul li {
    padding: 12px 15px;
    margin-bottom: 10px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Hover effect on the list item */
.sidebar ul li:hover {
    background: linear-gradient(135deg, #2193b0, #6dd5ed);
    transform: translateX(5px); /* slide effect */
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Links inside sidebar items */
.sidebar ul li a {
    color: white;
    text-decoration: none;
    display: block;
    width: 100%;
    transition: color 0.3s ease;
}

/* Optional: keep text white on hover and inherit li hover */
.sidebar ul li a:hover {
    color: white;
}


/* ================= MAIN ================= */
.main {
    margin-left: 230px; /* leave space for sidebar */
    flex: 1;
    padding: 25px;
    height: 100vh;
    overflow-y: auto; /* scrollable content */
}

/* ================= TOP BAR ================= */
.topbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
}

.topbar h1 {
    color: #0b3c6d;
}

/* ================= FILTERS ================= */
.filters {
    background: white;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.07);
    margin-bottom: 30px;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.filters label {
    font-weight: 600;
    color: #0b3c6d;
    margin-bottom: 5px;
    display: block;
}

.filters select, 
.filters input[type="checkbox"] {
    padding: 6px 10px;
    border-radius: 6px;
    border: 1px solid #ccc;
}

/* ================= KPI CARDS ================= */
.cards {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.card {
    background: white;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.07);
    position: relative;
    transition: transform 0.3s, box-shadow 0.3s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 22px rgba(0,0,0,0.12);
}

.card h3 {
    font-size: 15px;
    color: #555;
}

.card p {
    font-size: 28px;
    font-weight: bold;
    margin-top: 10px;
    color: #222;
}

/* ================= CHARTS ================= */
.charts {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.chart-box {
    background: white;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.07);
}

.chart-box h3 {
    margin-bottom: 15px;
    color: #0b3c6d;
}

.chart-box canvas {
    width: 100% !important;
    height: auto !important;
    max-height: 300px;
}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h2>Admin Panel</h2>
    <ul>
    <li><a href="admindashboard.html">Overview</a></li>
    <li><a href="live-calls.html">Live Calls</a></li>
    <li><a href="analytics.html">Analytics</a></li>
    <li><a href="escalations.html">Escalations</a></li>
    <li><a href="system-health.html">System Health</a></li>
</ul>

</div>

<!-- MAIN -->
<div class="main">

    <!-- TOP BAR -->
    <div class="topbar">
        <h1>Call Analytics & Reports</h1>
    </div>

    <!-- FILTERS -->
    <div class="filters">
        <div>
            <label for="dateRange">Date Range</label>
            <input type="date" id="startDate"> to <input type="date" id="endDate">
        </div>
        <div>
            <label for="department">Department</label>
            <select id="department">
                <option value="all">All</option>
                <option>Admissions</option>
                <option>Exams</option>
                <option>Timings</option>
            </select>
        </div>
        <div>
            <label for="language">Language</label>
            <select id="language">
                <option value="all">All</option>
                <option>Urdu</option>
                <option>English</option>
            </select>
        </div>
        <div>
            <label>
                <input type="checkbox" id="escalatedOnly">
                Escalated Only
            </label>
        </div>
    </div>

    <!-- KPI CARDS -->
    <div class="cards">
        <div class="card"><h3>AI Success Rate</h3><p>74%</p></div>
        <div class="card"><h3>Average Call Duration</h3><p>03:42</p></div>
        <div class="card"><h3>Peak Calling Hour</h3><p>11 AM - 12 PM</p></div>
        <div class="card"><h3>Total Calls</h3><p>145</p></div>
    </div>

    <!-- CHARTS -->
    <div class="charts">
        <div class="chart-box">
            <h3>Most Common Intents</h3>
            <canvas id="intentChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>Emotion Distribution</h3>
            <canvas id="emotionChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>Peak Calling Hours</h3>
            <canvas id="peakChart"></canvas>
        </div>
        <div class="chart-box">
            <h3>Call Resolution Status</h3>
            <canvas id="resolutionChart"></canvas>
        </div>
    </div>

</div>

<script>
// MOST COMMON INTENTS BAR CHART
new Chart(document.getElementById("intentChart"), {
    type: "bar",
    data: {
        labels: ["Admission Inquiry", "Exam Schedule", "Fee Query", "Timings", "Hostel Info"],
        datasets: [{
            label: "Number of Calls",
            data: [40, 30, 25, 20, 15],
            backgroundColor: "#0b3c6d",
            borderRadius: 6
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
            y: { beginAtZero: true },
            x: { ticks: { color: "#0b3c6d", font: { weight: 600 } } }
        },
        plugins: { legend: { display: false } }
    }
});

// EMOTION DISTRIBUTION PIE CHART
new Chart(document.getElementById("emotionChart"), {
    type: "pie",
    data: {
        labels: ["Neutral", "Confused", "Angry"],
        datasets: [{
            data: [60, 25, 15],
            backgroundColor: ["#1e90ff", "#ff9800", "#d32f2f"],
            borderWidth: 1
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: true,
        aspectRatio: 1.2,
        plugins: {
            legend: { position: "bottom", labels: { padding: 15 } }
        }
    }
});

// PEAK CALLING HOURS LINE CHART
new Chart(document.getElementById("peakChart"), {
    type: "line",
    data: {
        labels: ["8 AM","9 AM","10 AM","11 AM","12 PM","1 PM","2 PM"],
        datasets:[{
            label:"Number of Calls",
            data:[12,25,30,45,40,35,20],
            borderColor:"#2193b0",
            backgroundColor:"rgba(33,147,176,0.2)",
            fill:true,
            tension:0.4
        }]
    },
    options: {
        responsive:true,
        maintainAspectRatio:false,
        plugins:{legend:{display:false}},
        scales:{y:{beginAtZero:true}}
    }
});

// CALL RESOLUTION STATUS DOUGHNUT CHART
new Chart(document.getElementById("resolutionChart"), {
    type: "doughnut",
    data: {
        labels: ["Resolved","Escalated","Pending"],
        datasets:[{
            data:[80,10,10],
            backgroundColor:["#28a745","#ff9800","#d32f2f"]
        }]
    },
    options: {
        responsive:true,
        maintainAspectRatio:true,
        plugins:{legend:{position:"bottom"}}
    }
});
</script>

</body>
</html>
